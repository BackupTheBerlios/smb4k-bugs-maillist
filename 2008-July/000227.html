<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Smb4K-bugs] [Bug #14216] smb4k 0.10-beta creates bad entries in	/etc/sudoers
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/smb4k-bugs/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2314216%5D%20smb4k%200.10-beta%20creates%20bad%20entries%20in%0A%09/etc/sudoers&In-Reply-To=%3C200807210822.m6L8M60i010494%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000226.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Smb4K-bugs] [Bug #14216] smb4k 0.10-beta creates bad entries in	/etc/sudoers</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2314216%5D%20smb4k%200.10-beta%20creates%20bad%20entries%20in%0A%09/etc/sudoers&In-Reply-To=%3C200807210822.m6L8M60i010494%40unicorn.berlios.de%3E"
       TITLE="[Smb4K-bugs] [Bug #14216] smb4k 0.10-beta creates bad entries in	/etc/sudoers">admin at berlios.de
       </A><BR>
    <I>Mon Jul 21 10:22:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000226.html">[Smb4K-bugs] [Bug #14216] smb4k 0.10-beta creates bad entries in	/etc/sudoers
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#227">[ date ]</a>
              <a href="thread.html#227">[ thread ]</a>
              <a href="subject.html#227">[ subject ]</a>
              <a href="author.html#227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #14216, was updated on 2008-Jul-16 11:59
Here is a current snapshot of the bug.

Project: Smb4K
Category: None
Status: Open
Resolution: None
Bug Group: normal
Priority: 5
Submitted by: rkrell
Assigned to : none
Summary: smb4k 0.10-beta creates bad entries in /etc/sudoers

Details: I have repeating problems in manually mounting shares, where after a timeout of a couple of minutes occurs the error message &quot;sudo ... pam authentication error&quot;. After a look into the entries smb4k-0.10 creates for me after applying the appropriate sudo settings in /etc/sudoers there is:

# Entries for Smb4K users.
# Generated by Smb4K. Please do not modify!
User_Alias      SMB4KUSERS = rkrell
Defaults:SMB4KUSERS     env_keep=&quot;PASSWD USER&quot;
SMB4KUSERS      rkrell = NOPASSWD: /opt/kde3/bin/smb4k_kill
SMB4KUSERS      rkrell = NOPASSWD: /opt/kde3/bin/smb4k_umount
SMB4KUSERS      rkrell = NOPASSWD: /opt/kde3/bin/smb4k_mount
# End of Smb4K user entries.

This does not work, of course, in KDE4. For OpenSUSE 11.0, for instance, works only:

# Entries for Smb4K users.
# Generated by Smb4K. Please do not modify!
User_Alias      SMB4KUSERS = rkrell
Defaults:SMB4KUSERS     env_keep=&quot;PASSWD USER&quot;
SMB4KUSERS      rkrell = NOPASSWD: /usr/bin/smb4k_kill
SMB4KUSERS      rkrell = NOPASSWD: /usr/bin/smb4k_umount
SMB4KUSERS      rkrell = NOPASSWD: /usr/bin/smb4k_mount
# End of Smb4K user entries.

Even better, there should be a check like `which /usr/bin/smb4k_kill`, where these binaries really are located on the disk, or if not found, let the user choose the path in a file dialog.

Follow-Ups:

Date: 2008-Jul-21 10:22
By: dustpuppy

Comment:
The code has been rewritten and I hope this issue is now fixed.
-------------------------------------------------------

Date: 2008-Jul-17 08:19
By: dustpuppy

Comment:
Thank you for reporting this. I am going to rewrite the code that discovers the programs, so that this problem will not occur anymore.
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=14216&amp;group_id=769">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=14216&amp;group_id=769</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000226.html">[Smb4K-bugs] [Bug #14216] smb4k 0.10-beta creates bad entries in	/etc/sudoers
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#227">[ date ]</a>
              <a href="thread.html#227">[ thread ]</a>
              <a href="subject.html#227">[ subject ]</a>
              <a href="author.html#227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/smb4k-bugs">More information about the Smb4K-bugs
mailing list</a><br>
</body></html>
