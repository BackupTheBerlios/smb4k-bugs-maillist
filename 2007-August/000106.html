<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Smb4K-bugs] [Bug #2320] Can preview but not mount
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/smb4k-bugs/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%232320%5D%20Can%20preview%20but%20not%20mount&In-Reply-To=%3C200708250822.l7P8Mv2T024199%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000105.html">
   <LINK REL="Next"  HREF="000107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Smb4K-bugs] [Bug #2320] Can preview but not mount</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%232320%5D%20Can%20preview%20but%20not%20mount&In-Reply-To=%3C200708250822.l7P8Mv2T024199%40unicorn.berlios.de%3E"
       TITLE="[Smb4K-bugs] [Bug #2320] Can preview but not mount">admin at berlios.de
       </A><BR>
    <I>Sat Aug 25 10:22:57 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000105.html">[Smb4K-bugs] [Bug #11799] Shares from my NAS don't unfold in the	tree view
</A></li>
        <LI>Next message: <A HREF="000107.html">[Smb4K-bugs] [Bug #2320] Can preview but not mount
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106">[ date ]</a>
              <a href="thread.html#106">[ thread ]</a>
              <a href="subject.html#106">[ subject ]</a>
              <a href="author.html#106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #2320, was updated on 2004-Aug-24 21:40
Here is a current snapshot of the bug.

Project: Smb4K
Category: None
Status: Open
Resolution: None
Bug Group: normal
Priority: 5
Submitted by: none
Assigned to : dustpuppy
Summary: Can preview but not mount

Details: I've installed smb4k successfully, everything configured correctly (apparently). Smb from the console works fine.

When I load smb4k and go to the main interface, my master browser is queried successfully and reports all the machines in the Windows domain. I pick a machine, expand it and the shares are listed correctly.

If I right click a share and select &quot;Preview&quot;, the files and folders in that share are displayed correctly (thus, authentication is working). 

If I right click a share and select &quot;Mount&quot; (or add it through the options), I receive no error, a directory is created in the root mountpoint (/mnt/smb4k/ for example), but no access to the share is granted. Doing an ls in the /mnt/smb4k/share_i_mounted directory shows no files. The directory is correctly cleared up when I quit smb4k.

Bug summary: preview works, but mounting doesn't.

This behaviour occurs against a Win2k, Win2k3 and another linux samba box.

Thanks.

Follow-Ups:

Date: 2007-Aug-25 10:22
By: qsecofr

Comment:
Hello, 

I've got the same error.

Whenever I try to mount a share on my notebook it vanishes (and is not accesible) from the list after a second. It works fine with root and it works fine on my desktop pc. 
My notebook is updated often while the desktop is nearly the openSuse 10.2 stock version (just put all the missing multimedia packages on it). 

Right after the installation of openSuse it used to work on my notebook, too. 

I do not receive any error message.

10.3 beta has the same issue but kubuntu worked fine.
-------------------------------------------------------

Date: 2005-Jun-10 07:40
By: dustpuppy

Comment:
Have you tried to use the CIFS file system?

My problem is, that I don't have any W2k3 host available. So, this bug may take some time to get fixed.
-------------------------------------------------------

Date: 2005-Jun-08 14:20
By: morgoth

Comment:
I've got the same issue with smb4k and a local win2k3 server.  Can browse the share, but not mount it.  As a normal user, even with setting superuser priviledges in the smb4k settings.  

Works fine as root user.  /bin/mount is not set suid, have tried setting it suid, no difference.  Have played with groups, permissions etc, no difference.  

Dave
-------------------------------------------------------

Date: 2004-Oct-06 14:02
By: dustpuppy

Comment:
Are you using super for mounting? Have you installed it manually? Is the super.tab file located under the same root directory as the super binary?
-------------------------------------------------------

Date: 2004-Sep-16 21:10
By: none

Comment:
Sorry, was away for a while. Yes, I'm absolutely sure my samba install is ok, because I can use smbclient correctly and LISA under KDE (which I believe uses winbind/smbclient anyway?). If you can give me further things to try I'll happily give it a go.
-------------------------------------------------------

Date: 2004-Aug-30 13:12
By: dustpuppy

Comment:
I tried to reproduce your problem by creating a /mnt/smb4k directory with the same permissions you have. And: It works just fine! Are you sure, your Samba installation is OK?
-------------------------------------------------------

Date: 2004-Aug-29 18:39
By: dustpuppy

Comment:
Do you still have this problem, if you go with the standard directory $HOME/smb4k?
-------------------------------------------------------

Date: 2004-Aug-29 18:13
By: none

Comment:
Just wanted to add, I've tried the new version and I still get the same issue. Thanks.
-------------------------------------------------------

Date: 2004-Aug-26 18:01
By: none

Comment:
Well, the user/group is root/root however because I have the super package installed, I thought this didn't matter as smb4k/super takes care of permissions when mounting/unmounting.

I thought that might have been an issue anyway, so I chmod 777 the smb4k root mount directory;

<A HREF="https://lists.berlios.de/mailman/listinfo/smb4k-bugs">me at mybox</A>:/mnt&gt; ls -al
total 1
drwxr-xr-x   3 root root  72 2004-08-22 19:14 .
drwxr-xr-x  22 root root 512 2004-08-26 17:52 ..
drwxrwxrwx   2 root root  48 2004-08-24 20:39 smb4k

smb4k is configured to use /mnt/smb4k as the root point. I still have the issue.

Thanks for taking the time to reply and look into it.
-------------------------------------------------------

Date: 2004-Aug-25 14:18
By: dustpuppy

Comment:
Are the permissions and the user/group set correctly for the root mountpoint? If they are not, the share won't be mounted due to missing permissions, but Smb4K won't report an error (This bug has already been reported on the Smb4K-general mailing list and has been partially fixed in Smb4K 0.4.1 which will be released in the next few days. A complete fix will be available in 0.5.0.).
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=2320&amp;group_id=769">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=2320&amp;group_id=769</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000105.html">[Smb4K-bugs] [Bug #11799] Shares from my NAS don't unfold in the	tree view
</A></li>
	<LI>Next message: <A HREF="000107.html">[Smb4K-bugs] [Bug #2320] Can preview but not mount
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106">[ date ]</a>
              <a href="thread.html#106">[ thread ]</a>
              <a href="subject.html#106">[ subject ]</a>
              <a href="author.html#106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/smb4k-bugs">More information about the Smb4K-bugs
mailing list</a><br>
</body></html>
