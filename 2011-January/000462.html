<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Smb4K-bugs] [Bug #17535] can't mount shares with russian names
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/smb4k-bugs/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2317535%5D%20can%27t%20mount%20shares%20with%20russian%20names&In-Reply-To=%3C201101071846.p07IkcXg008579%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000461.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Smb4K-bugs] [Bug #17535] can't mount shares with russian names</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2317535%5D%20can%27t%20mount%20shares%20with%20russian%20names&In-Reply-To=%3C201101071846.p07IkcXg008579%40unicorn.berlios.de%3E"
       TITLE="[Smb4K-bugs] [Bug #17535] can't mount shares with russian names">admin at berlios.de
       </A><BR>
    <I>Fri Jan  7 19:46:38 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000461.html">[Smb4K-bugs] [Bug #17834] smb4k 0.10.66 crashes on startup
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#462">[ date ]</a>
              <a href="thread.html#462">[ thread ]</a>
              <a href="subject.html#462">[ subject ]</a>
              <a href="author.html#462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #17535, was updated on 2010-Sep-24 16:39
Here is a current snapshot of the bug.

Project: Smb4K
Category: None
Status: Open
Resolution: None
Bug Group: normal
Priority: 5
Submitted by: rsa
Assigned to : none
Summary: can't mount shares with russian names

Details: Hi.

KDE-4.4.5
smb4k-0.10.7 

# uname -a
Linux r 2.6.34-gentoo-r6-r #2 SMP Fri Sep 24 13:48:09 MSD 2010 x86_64 AMD Phenom(tm) II X4 965 Processor AuthenticAMD GNU/Linux
# locale
LANG=ru_RU.UTF-8
LC_CTYPE=&quot;ru_RU.UTF-8&quot;
LC_NUMERIC=&quot;ru_RU.UTF-8&quot;
LC_TIME=&quot;ru_RU.UTF-8&quot;
LC_COLLATE=&quot;ru_RU.UTF-8&quot;
LC_MONETARY=&quot;ru_RU.UTF-8&quot;
LC_MESSAGES=&quot;ru_RU.UTF-8&quot;
LC_PAPER=&quot;ru_RU.UTF-8&quot;
LC_NAME=&quot;ru_RU.UTF-8&quot;
LC_ADDRESS=&quot;ru_RU.UTF-8&quot;
LC_TELEPHONE=&quot;ru_RU.UTF-8&quot;
LC_MEASUREMENT=&quot;ru_RU.UTF-8&quot;
LC_IDENTIFICATION=&quot;ru_RU.UTF-8&quot;
LC_ALL=

In Smb4k Client charset is utf8 (also tried default, koi8-r, cp1251)

When I try to mount share with name in russian such as &quot;&#196;&#238;&#234;&#243;&#236;&#229;&#237;&#242;&#251;&quot;
I have an error: &quot;Couldn't chdir to /home/user/smb4k/pc/&#208;&#180;&#208;&#190;&#208;&#186;&#209;&#131;&#208;&#188;&#208;&#181;&#208;&#189;&#209;&#130;&#209;&#139;: No such file or directory&quot;

In error log I have next:
Sep 24 18:32:16 r sudo:      user : TTY=unknown ; PWD=/etc/samba ; USER=root ; COMMAND=/usr/bin/smb4k_mount -s -t cifs -o uid=1000,gid=1000,port=445,iocharset=utf8,rw,file_mode=0755,dir_mode=0755,perm,nosetuids,noserverino,nomapchars,domain=BGAMES,ip=10.0.0.115,guest -- //PC/&#196;&#238;&#234;&#243;&#236;&#229;&#237;&#242;&#251; /home/user/smb4k/pc/&#208;&#180;&#208;&#190;&#208;&#186;&#209;&#208;&#188;&#208;&#181;&#208;&#189;&#209;&#209;

as you can see in sudo command share name is correct, but local folder name isn't. in same time local folder &quot;/home/user/smb4k/pc/&#228;&#238;&#234;&#243;&#236;&#229;&#237;&#242;&#251;&quot; created correctly.

Follow-Ups:

Date: 2011-Jan-07 19:46
By: dustpuppy

Comment:
Could you please test Smb4K 0.10.66 and tell me whether this problem is fixed? Thanks.
-------------------------------------------------------

Date: 2010-Nov-24 09:50
By: dustpuppy

Comment:
Hello!

Sorry for answering so late.

The development version of Smb4K now uses UTF8, maybe this fixes your problem. Would you like to try version 0.10.65? It can be downloaded from our home page. Any feedback would be very welcome.

Best regards
Alexander
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=17535&amp;group_id=769">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=17535&amp;group_id=769</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000461.html">[Smb4K-bugs] [Bug #17834] smb4k 0.10.66 crashes on startup
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#462">[ date ]</a>
              <a href="thread.html#462">[ thread ]</a>
              <a href="subject.html#462">[ subject ]</a>
              <a href="author.html#462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/smb4k-bugs">More information about the Smb4K-bugs
mailing list</a><br>
</body></html>
