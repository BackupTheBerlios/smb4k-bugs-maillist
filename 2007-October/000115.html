<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/smb4k-bugs/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2312262%5D%20Breaks%20sudo%20in%20openSUSE&In-Reply-To=%3C200710270829.l9R8TEr3021011%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000114.html">
   <LINK REL="Next"  HREF="000116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:smb4k-bugs%40lists.berlios.de?Subject=Re%3A%20%5BSmb4K-bugs%5D%20%5BBug%20%2312262%5D%20Breaks%20sudo%20in%20openSUSE&In-Reply-To=%3C200710270829.l9R8TEr3021011%40unicorn.berlios.de%3E"
       TITLE="[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE">admin at berlios.de
       </A><BR>
    <I>Sat Oct 27 10:29:14 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000114.html">[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE
</A></li>
        <LI>Next message: <A HREF="000116.html">[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #12262, was updated on 2007-Oct-23 23:14
Here is a current snapshot of the bug.

Project: Smb4K
Category: None
Status: Open
Resolution: Works For Me
Bug Group: None
Priority: 5
Submitted by: fingerprint64
Assigned to : none
Summary: Breaks sudo in openSUSE

Details: I use smb4k to mount my NAS drive. I'm just installed openSUSE 10.3 on a test machine. Under settings, the sudo is selected and I also check the &quot;Use super user privileges to mount and unmount shares&quot; option.

Once this has been set, I enter all required passwords. From that point onwards, sudo no longer works giving me the following error: &quot;su return with an error&quot; every time I launch a programme that requires the root password. the su command still works from the console.

When I type sudo from in console, a message informing me that the sudoers file is out of sync. I have also opened the file and it is blank.

The only way I can find to get sudo to work again is by doing a repair-install.

Follow-Ups:

Date: 2007-Oct-27 10:29
By: dustpuppy

Comment:
I used a fresh installation of OpenSUSE 10.3 and the latest version of Smb4K (i.e. version 0.8.6, self-compiled) in my attempt to reproduce your problem. I did not succeed. The /etc/sudoers file is sane and Smb4K works as expected even after writing several times to the file.

Which version of Smb4K do you use? What exactly did you do (step by step) to get this problem? Could you please provide the output of 

$ ls -la /etc/sudoers

before and after Smb4K wrote to the file? If you get the parse error and the file is *not* empty, could you please also paste its contents here?
-------------------------------------------------------

Date: 2007-Oct-23 23:32
By: fingerprint64

Comment:
Found the error when running the sudo command from console:
&gt;&gt;&gt;<i> sudoers file: syntax error, line 26 &lt;&lt;&lt;
</I>sudo: parse error in /etc/sudoers near line 26

Upon checking the file, it is empty (????)
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=12262&amp;group_id=769">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=12262&amp;group_id=769</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000114.html">[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE
</A></li>
	<LI>Next message: <A HREF="000116.html">[Smb4K-bugs] [Bug #12262] Breaks sudo in openSUSE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/smb4k-bugs">More information about the Smb4K-bugs
mailing list</a><br>
</body></html>
